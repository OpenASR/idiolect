<idea-plugin>
    <id>org.openasr.idear</id>
    <name>idear</name>
    <vendor email="idear@ndan.co" url="https://github.com/OpenASR/idear">OpenASR</vendor>

    <description>
        <![CDATA[Speech recognition for IntelliJ IDEA. Idear listens to voice commands
        and assists with simple actions like debugging, navigation, and refactoring. For
        a list of example phrases, please see the
        <a href="https://github.com/OpenASR/idear/blob/feature/grammar-system/docs/example-phrases.md">documentation</a>.]]>
    </description>

    <depends>com.intellij.modules.lang</depends>
    <depends optional="true" config-file="java-pronouncer.xml">com.intellij.modules.java</depends>
<!--    <depends>AceJump</depends>-->

    <applicationListeners>
        <listener topic="org.openasr.idear.nlp.NlpResultListener" class="org.openasr.idear.nlp.IntellijNlpResultListener"/>
        <listener topic="org.openasr.idear.nlp.NlpResultListener" class="org.openasr.idear.nlp.LoggingNlpResultListener"/>
    </applicationListeners>

    <extensionPoints>
        <extensionPoint name="actionRecognizer" interface="org.openasr.idear.actions.recognition.ActionRecognizer" dynamic="true"/>
        <extensionPoint name="asrSystem" interface="org.openasr.idear.asr.AsrSystem" dynamic="true"/>
        <extensionPoint name="asrProvider" interface="org.openasr.idear.asr.AsrProvider" dynamic="true"/>
        <extensionPoint name="ttsProvider" interface="org.openasr.idear.tts.TtsProvider" dynamic="true"/>
        <extensionPoint name="nlpProvider" interface="org.openasr.idear.nlp.NlpProvider" dynamic="true"/>
    </extensionPoints>

    <extensions defaultExtensionNs="com.intellij">
        <applicationService serviceImplementation="org.openasr.idear.settings.IdearConfiguration"/>
        <applicationConfigurable groupId="tools" displayName="Idear" id="preferences.IdearConfiguration"
                                 instance="org.openasr.idear.settings.IdearConfiguration" dynamic="true"/>

        <notificationGroup id="Idear" displayType="BALLOON"/>
        <statusBarWidgetFactory implementation="org.openasr.idear.presentation.RecognitionStatusBarWidgetFactory"/>
    </extensions>

    <extensions defaultExtensionNs="org.openasr.idear">
        <actionRecognizer implementation="org.openasr.idear.actions.recognition.IdearActionRecognizer" order="first"/>
        <actionRecognizer implementation="org.openasr.idear.actions.recognition.ExtractActionRecognizer"/>
        <actionRecognizer implementation="org.openasr.idear.actions.recognition.FindUsagesActionRecognizer"/>
        <actionRecognizer implementation="org.openasr.idear.actions.recognition.RenameActionRecognizer"/>
        <actionRecognizer implementation="org.openasr.idear.actions.recognition.SurroundWithNoNullCheckRecognizer"/>
        <actionRecognizer implementation="org.openasr.idear.actions.recognition.JavaActionRecognizer"/>
        <actionRecognizer implementation="org.openasr.idear.actions.recognition.RegisteredEditorActionRecognizer"
                          order="before RegisteredActionRecognizer"/>
        <actionRecognizer implementation="org.openasr.idear.actions.recognition.RegisteredActionRecognizer"
                          id="RegisteredActionRecognizer"
                          order="last"/>

        <asrSystem implementation="org.openasr.idear.asr.AsrControlLoop"/>
        <asrProvider implementation="org.openasr.idear.asr.vosk.VoskAsr"/>
        <ttsProvider implementation="org.openasr.idear.tts.IdearTTS"/>
        <nlpProvider implementation="org.openasr.idear.nlp.PatternBasedNlpProvider"/>
    </extensions>

    <actions>
        <action id="Idear.VoiceAction" text="Invoke by voice-command"
                class="org.openasr.idear.actions.ExecuteVoiceCommandAction"/>
    </actions>
</idea-plugin>
