<idea-plugin>
    <id>org.openasr.idear</id>
    <name>idear</name>
    <version>1.2.1</version>
    <vendor email="breandan.considine@jetbrains.com" url="http://www.jetbrains.com">JetBrains</vendor>

    <description><![CDATA[Speech recognition for IntelliJ IDEA. Idear listens to voice commands and assists with simple actions like debugging, navigation, and refactoring. For a complete list of commands, please see the <a href="https://github.com/breandan/idear/blob/master/src/main/resources/org.openasr.idear/grammars/command.gram">command grammar</a>.]]></description>
    <change-notes>
        <![CDATA[
        <html>
        <dl>
            <dt>1.3</dt>
            <dd>Editing commands and bug fixes.</dd>
            <dt>1.2.1</dt>
            <dd>Add a dedicated Kotlin runtime to dependencies.</dd>
            <dt>1.2</dt>
            <dd>Introduces debugging and AceJump navigation.</dd>
        </dl>
        </html>
        ]]>
        <![CDATA[]]>
    </change-notes>

    <!-- please see https://confluence.jetbrains.com/display/IDEADEV/Build+Number+Ranges for description -->
    <idea-version since-build="131"/>

    <!-- please see https://confluence.jetbrains.com/display/IDEADEV/Plugin+Compatibility+with+IntelliJ+Platform+Products
         on how to target different products -->
    <depends>com.intellij.modules.lang</depends>
    <depends optional="true" config-file="java-pronouncer.xml">com.intellij.modules.java</depends>

    <extensionPoints>
        <extensionPoint name="actionRecognizer" interface="org.openasr.idear.actions.recognition.ActionRecognizer"/>
    </extensionPoints>

    <extensions defaultExtensionNs="com.intellij">
        <fileTypeFactory implementation="org.openasr.idear.jsgf.JSpeechFileTypeFactory"/>
        <lang.syntaxHighlighterFactory language="JSpeech" implementationClass="org.openasr.idear.jsgf.JSpeechSyntaxHighlighterFactory"/>
        <lang.parserDefinition language="JSpeech" implementationClass="org.openasr.idear.jsgf.JSpeechParserDefinition"/>
        <colorSettingsPage implementation="org.openasr.idear.jsgf.JSpeechColorSettingsPage"/>
        <annotator language="JSpeech" implementationClass="org.openasr.idear.jsgf.JSpeechAnnotator"/>
        <gotoSymbolContributor implementation="org.openasr.idear.jsgf.JSpeechChooseByNameContributor"/>

        <psi.referenceContributor implementation="org.openasr.idear.jsgf.JSpeechReferenceContributor"/>

        <applicationService serviceInterface="org.openasr.idear.asr.ASRService" serviceImplementation="org.openasr.idear.asr.ASRService">
        </applicationService>

        <applicationService serviceInterface="org.openasr.idear.tts.TTSService" serviceImplementation="org.openasr.idear.tts.TTSService">
        </applicationService>

        <applicationService serviceInterface="org.openasr.idear.asr.GrammarService" serviceImplementation="org.openasr.idear.asr.GrammarService">
        </applicationService>

        <applicationService serviceInterface="org.openasr.idear.nlp.ParserService" serviceImplementation="org.openasr.idear.nlp.NlpParserService">
        </applicationService>

        <applicationService serviceInterface="org.openasr.idear.ide.IDEService" serviceImplementation="org.openasr.idear.ide.IDEService">
        </applicationService>

        <applicationService serviceInterface="org.openasr.idear.settings.IdearSettingsProvider" serviceImplementation="org.openasr.idear.settings.IdearSettingsProvider"/>
        <applicationConfigurable groupId="tools"
                                 displayName="Recognition"
                                 id="preferences.IdearConfigurable"
                                 instance="org.openasr.idear.settings.IdearConfigurable"/>
    </extensions>

    <extensions defaultExtensionNs="org.openasr.idear">
        <actionRecognizer implementation="org.openasr.idear.actions.recognition.ExtractActionRecognizer"/>
        <actionRecognizer implementation="org.openasr.idear.actions.recognition.InlineActionRecognizer"/>
        <actionRecognizer implementation="org.openasr.idear.actions.recognition.RunActionRecognizer"/>
        <actionRecognizer implementation="org.openasr.idear.actions.recognition.DebugActionRecognizer"/>
        <actionRecognizer implementation="org.openasr.idear.actions.recognition.FindUsagesActionRecognizer"/>
        <actionRecognizer implementation="org.openasr.idear.actions.recognition.RenameActionRecognizer"/>
        <actionRecognizer implementation="org.openasr.idear.actions.recognition.SurroundWithNoNullCheckRecognizer"/>
    </extensions>

    <application-components>
        <component>
            <implementation-class>org.openasr.idear.Idear</implementation-class>
        </component>
    </application-components>

    <project-components>
        <!-- Add your project components here -->
    </project-components>

    <actions>
        <action id="Idear.Start" class="org.openasr.idear.VoiceRecordControllerAction" text="Voice control"
                description="Start" icon="/org.openasr.idear/icons/start.png">
            <add-to-group group-id="ToolbarRunGroup" anchor="first"/>
        </action>

        <action id="Idear.SpeechStuff"
                text="Invoke by speech"
                class="org.openasr.idear.actions.ExecuteActionFromPredefinedText"/>

        <action id="Idear.VoiceAction"
                text="Invoke by voice-command"
                class="org.openasr.idear.actions.ExecuteVoiceCommandAction"/>

        <!-- Home-grown actions -->

        <action id="Idear.WhereAmI"
                text="Name the place you are"
                class="org.openasr.idear.actions.WhereAmIAction"/>

        <action id="AceJumpAction"
                class="com.johnlindquist.acejump.AceJumpAction"
                text="Ace Jump"
                description="Search and navigate to result">
            <keyboard-shortcut keymap="$default" first-keystroke="ctrl SEMICOLON"/>
            <keyboard-shortcut keymap="Mac OS X" first-keystroke="ctrl SEMICOLON"/>
            <keyboard-shortcut keymap="Mac OS X 10.5+" first-keystroke="ctrl SEMICOLON"/>
        </action>
    </actions>

</idea-plugin>